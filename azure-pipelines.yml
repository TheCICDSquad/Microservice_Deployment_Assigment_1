trigger:
- main

pool:
  name: 'Linux_Agent'  # Your pool with Python 3.12.3

steps:
# 1. Run the Python application directly with full path
- script: |
    # Use system Python (3.12.3) with user installs
    python3.12 -m pip install --user -r Microservice_Deployment_Assigment_1/app/requirements.txt
    python3.12 Microservice_Deployment_Assigment_1/app/main.py
  displayName: 'Run Python application'

# 2. Docker build (only if you need it)
- task: Docker@2
  displayName: 'Build Docker image'
  inputs:
    command: 'build'
    repository: 'your-app-name'
    dockerfile: 'Microservice_Deployment_Assigment_1/app/Dockerfile'
    tags: 'latest'